server:
  port: 8080

spring:
  application:
    name: homebrain-agent
  ai:
    anthropic:
      chat:
        options:
          max-tokens: 8192

logging:
  level:
    root: ${LOG_LEVEL:info}
    com.homebrain: ${LOG_LEVEL:info}
    com.embabel: ${LOG_LEVEL:info}

# Embabel Agent configuration
embabel:
  models:
    default-llm: claude-sonnet-4-5

# Application configuration
app:
  engine:
    url: ${ENGINE_URL:http://engine:9000}
  automations:
    path: ${AUTOMATIONS_PATH:/app/automations}
  llm:
    max-tokens: ${LLM_MAX_TOKENS:8192}
  embeddings:
    # Path to the CodeRankEmbed ONNX model
    model-path: ${EMBEDDINGS_MODEL_PATH:/app/models/coderank-embed}
    # Path to the DuckDB database for vector storage
    db-path: ${EMBEDDINGS_DB_PATH:/app/data/embeddings.duckdb}
    # Embedding dimension (768 for CodeRankEmbed)
    dimension: 768
    # Maximum token length for embedding (8192 for CodeRankEmbed)
    max-length: 8192
    # Sync interval in milliseconds (5 minutes)
    sync-interval: ${EMBEDDINGS_SYNC_INTERVAL:300000}
    # Similarity threshold for recommending modification vs new code
    similarity-threshold: 0.7
